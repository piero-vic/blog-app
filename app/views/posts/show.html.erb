<article class="border p-3 gap-3">
  <div class="flex flex-col justify-between">
    <h1 class="text-2xl"><%= @post.title %></h1>
    <p class="self-end"><%= "Author: #{@post.author.name}" %></p>
    <p class="self-end"><%= "Comments: #{@post.comments_counter || 0}, Likes: #{@post.likes_counter || 0 }" %></p>
  </div>
  <p><%= @post.text %></p>
</article>

<div class="border p-3 mt-3">
  <h3 class="text-md">Comments</h3> 
  <div class="flex flex-col border p-3 gap-2 mt-3">
    <% @post.comments.each do |comment| %>
      <p><%= "#{comment.author.name}: #{comment.text}" %></p>
    <% end %>
  </div>
</div>

<% flash.each do |type, msg| %>
  <div class="p-3 mt-3 border rounded-xl bg-red-500 text-white-">
    <%= type.capitalize %>: <%= msg %>
  </div>
<% end %>

<div class="flex border p-3 gap-2 mt-3">
  <%= button_to user_post_likes_path(@user_id, @post_id), method: :post, class: "self-center py-2 px-3 border rounded-xl" do %>
    Like
  <% end %>

  <%= link_to new_user_post_comment_path(@user_id, @post_id), class: "self-center py-2 px-3 border rounded-xl" do %>
    Post a comment
  <% end %>
</div>  
